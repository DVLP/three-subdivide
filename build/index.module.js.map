{"version":3,"file":"index.module.js","sources":["../src/LoopSubdivision.js"],"sourcesContent":["/** /////////////////////////////////////////////////////////////////////////////////\n// \n// @description Loop Subdivision Surface\n// @about       Smooth subdivision surface modifier for use with three.js BufferGeometry\n// @author      Stephens Nunnally <@stevinz>\n// @license     MIT - Copyright (c) 2022 Stephens Nunnally and Scidian Software\n// @source      https://github.com/stevinz/three-subdivide\n// \n//      See end of file for license details and acknowledgements\n//\n///////////////////////////////////////////////////////////////////////////////////*/\n//\n//  Functions\n//      modify              Applies Loop subdivision to BufferGeometry, returns new BufferGeometry\n//      edgeSplit           Splits all triangles at edges shared by coplanar triangles\n//      flat                One iteration of Loop subdivision, without point averaging\n//      smooth              One iteration of Loop subdivision, with point averaging\n//\n//  Info\n//      This modifier uses the Loop (Charles Loop, 1987) subdivision surface algorithm to smooth\n//      modern three.js BufferGeometry.\n//\n//      At one point, three.js included a subdivision surface modifier in the extended examples (see bottom\n//      of file for links), it was removed in r125. This modifier was originally based on the Catmull-Clark\n//      algorithm, which works best for geometry with convex coplanar n-gon faces. In three.js r60 the modifier\n//      was changed to use the Loop algorithm, which was designed to work better with triangle based meshes.\n//\n//      The Loop algorithm, however, doesn't always provide uniform results as the vertices are skewed toward\n//      the most used vertex positions. A triangle based box (e.g. BoxGeometry) will favor the corners. To\n//      alleviate this issue, this implementation includes an initial pass to split coplanar faces at their\n//      shared edges. It starts by splitting along the longest shared edge first, and then from that midpoint it\n//      splits to any remaining coplanar shared edges. This can be disabled by passing 'split' as false.\n//\n//      Also by default, this implementation inserts new uv coordinates, but does not average them using the Loop\n//      algorithm. In some cases (usually in round-ish geometries), this will produce undesired results, a\n//      noticeable tearing will occur. In such cases, try passing 'uvSmooth' as true to enable uv averaging.\n//      \n//  Note(s)\n//      - This modifier returns a new BufferGeometry instance, it does not dispose() of the old geometry.\n//\n//      - This modifier returns a NonIndexed geometry. An Indexed geometry can be created by using the\n//        BufferGeometryUtils.mergeVertices() function, see:\n//        https://threejs.org/docs/?q=buffer#examples/en/utils/BufferGeometryUtils.mergeVertices\n//\n//      - This modifier works best with geometry whose triangles share edges AND edge vertices. See diagram below.\n//\n//          OKAY          NOT OKAY\n//            O              O\n//           /|\\            / \\\n//          / | \\          /   \\\n//         /  |  \\        /     \\\n//        O---O---O      O---O---O\n//         \\  |  /        \\  |  /\n//          \\ | /          \\ | /\n//           \\|/            \\|/\n//            O              O\n//\n/////////////////////////////////////////////////////////////////////////////////////\n\nimport * as THREE from 'three';\n\n///// Constants\n\nconst POSITION_DECIMALS = 2;\n\n///// Local Variables\n\nconst _average = new THREE.Vector3();\nconst _center = new THREE.Vector3();\nconst _midpoint = new THREE.Vector3();\nconst _normal = new THREE.Vector3();\nconst _temp = new THREE.Vector3();\nconst _vector = new THREE.Vector3();\nconst _vector0 = new THREE.Vector3(); // .Vector4();\nconst _vector1 = new THREE.Vector3(); // .Vector4();\nconst _vector2 = new THREE.Vector3(); // .Vector4();\nconst _vec0to1 = new THREE.Vector3();\nconst _vec1to2 = new THREE.Vector3();\nconst _vec2to0 = new THREE.Vector3();\nconst _position = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n];\nconst _vertex = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n];\nconst _triangle = new THREE.Triangle();\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Loop Subdivision Surface\n/////////////////////////////////////////////////////////////////////////////////////\n\n/** Loop subdivision surface modifier for use with modern three.js BufferGeometry */\nclass LoopSubdivision {\n    \n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Modify\n    ////////////////////\n\n    /**\n     * Applies Loop subdivision modifier to geometry\n     * \n     * @param {Object} bufferGeometry - Three.js geometry to be subdivided\n     * @param {Number} iterations - How many times to run subdividion\n     * @param {Boolean} split - Should coplanar faces be divided along shared edges before running Loop subdivision\n     * @param {Boolean} uvSmooth - Should UV values be averaged during subdivision\n     * @param {Boolean} flatOnly - If true, subdivision generates triangles, but does not modify positions\n     * @param {Number} maxTriangles - If geometry contains more than this many triangles, subdivision will not contiunue\n     * @returns {Object} Returns new, subdivided, three.js BufferGeometry object\n    */\n    static modify(bufferGeometry, iterations = 1, split = true, uvSmooth = false, flatOnly = false, maxTriangles = Infinity) {\n        \n        // Check for 'position' Attribute\n        if (bufferGeometry.attributes.position === undefined) {\n            console.warn(`LoopSubdivision.modify(): Geometry missing required attribute, 'position'`); \n            return bufferGeometry;\n        }\n\n        // Presplit\n        if (split) bufferGeometry = LoopSubdivision.edgeSplit(bufferGeometry);\n        \n        // Apply Subdivision\n        for (let i = 0; i < iterations; i++) {\n            let currentTriangles = bufferGeometry.attributes.position.count / 3;\n            if (currentTriangles < maxTriangles) {\n                if (flatOnly) {\n                    bufferGeometry = LoopSubdivision.flat(bufferGeometry);\n                } else {\n                    bufferGeometry = LoopSubdivision.smooth(bufferGeometry, uvSmooth);\n                }\n            }\n        }\n\n        return bufferGeometry;\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Split Hypotenuse\n    ////////////////////\n\n    /**\n     * Applies one iteration of split subdivision. Splits all triangles at edges shared by coplanar triangles.\n     * Starts by splitting at longest shared edge, followed by splitting from that new center edge point to the\n     * center of any other shared edges.\n     */\n    static edgeSplit(geometry) {\n\n        ///// Geometries\n        if (! verifyGeometry(geometry)) return geometry;\n        const existing = (geometry.index !== null) ? geometry.toNonIndexed() : geometry.clone();\n        const split = new THREE.BufferGeometry();\n\n        ///// Attributes\n        const attributeList = gatherAttributes(existing);\n        const vertexCount = existing.attributes.position.count;\n        const posAttribute = existing.getAttribute('position');\n        const norAttribute = existing.getAttribute('normal');\n        const edgeHashToTriangle = {};\n        const triangleEdgeHashes = [];\n        const edgeLength = {};\n        const triangleExist = [];\n\n        ///// Edges\n        for (let i = 0; i < vertexCount; i += 3) {\n            // Positions\n            _vector0.fromBufferAttribute(posAttribute, i + 0);\n            _vector1.fromBufferAttribute(posAttribute, i + 1);\n            _vector2.fromBufferAttribute(posAttribute, i + 2);\n            _normal.fromBufferAttribute(norAttribute, i);\n            const vecHash0 = hashFromVector(_vector0);\n            const vecHash1 = hashFromVector(_vector1);\n            const vecHash2 = hashFromVector(_vector2);\n\n            // Verify Area\n            const triangleSize = _triangle.set(_vector0, _vector1, _vector2).getArea();\n            triangleExist.push(! fuzzy(triangleSize, 0));\n            if (! triangleExist[i / 3]) {\n                triangleEdgeHashes.push([]);\n                continue;\n            }\n\n            // Calculate Normals\n            calcNormal(_normal, _vector0, _vector1, _vector2);\n            const normalHash = hashFromVector(_normal);\n\n            // Vertex Hashes\n            let hashes = [\n                `${vecHash0}_${vecHash1}_${normalHash}`, // [0]: 0to1\n                `${vecHash1}_${vecHash0}_${normalHash}`, // [1]: 1to0\n                `${vecHash1}_${vecHash2}_${normalHash}`, // [2]: 1to2\n                `${vecHash2}_${vecHash1}_${normalHash}`, // [3]: 2to1\n                `${vecHash2}_${vecHash0}_${normalHash}`, // [4]: 2to0\n                `${vecHash0}_${vecHash2}_${normalHash}`, // [5]: 0to2\n            ];\n\n            // Store Edge Hashes\n            let index = i / 3;\n            for (let j = 0; j < hashes.length; j++) {\n                // Attach Triangle Index to Edge Hash\n                addToMapArray(edgeHashToTriangle, hashes[j], index);;\n\n                // Edge Length\n                if (! edgeLength[hashes[j]]) {\n                    if (j === 0 || j === 1) edgeLength[hashes[j]] = _vector0.distanceTo(_vector1);\n                    if (j === 2 || j === 3) edgeLength[hashes[j]] = _vector1.distanceTo(_vector2);\n                    if (j === 4 || j === 5) edgeLength[hashes[j]] = _vector2.distanceTo(_vector0);\n                }\n            }\n\n            // Triangle Edge Reference\n            triangleEdgeHashes.push([ hashes[0], hashes[2], hashes[4] ]);\n        }\n\n        ///// Build Geometry\n        attributeList.forEach((attributeName) => {\n            const attribute = existing.getAttribute(attributeName);\n            if (! attribute) return;\n            const newTriangles = 4; // <-- need to calculate better?\n            const arrayLength = (vertexCount * attribute.itemSize) * newTriangles;\n            const floatArray = new Float32Array(arrayLength);\n\n            let index = 0;\n            let step = attribute.itemSize;\n            for (let i = 0; i < vertexCount; i += 3) {\n                if (! triangleExist[i / 3]) continue;\n\n                _vector0.fromBufferAttribute(attribute, i + 0);\n                _vector1.fromBufferAttribute(attribute, i + 1);\n                _vector2.fromBufferAttribute(attribute, i + 2);\n\n                // Check for Shared Edges\n                const existingIndex = i / 3;\n                const edgeHash0to1 = triangleEdgeHashes[existingIndex][0];\n                const edgeHash1to2 = triangleEdgeHashes[existingIndex][1];\n                const edgeHash2to0 = triangleEdgeHashes[existingIndex][2];\n\n                const edgeCount0to1 = edgeHashToTriangle[edgeHash0to1].length;\n                const edgeCount1to2 = edgeHashToTriangle[edgeHash1to2].length;\n                const edgeCount2to0 = edgeHashToTriangle[edgeHash2to0].length;\n                const sharedCount = (edgeCount0to1 + edgeCount1to2 + edgeCount2to0) - 3;\n\n                // No Shared Edges\n                if (sharedCount === 0) {\n                    setTriangle(floatArray, index, step, _vector0, _vector1, _vector2); index += (step * 3);\n\n                // Shared Edges\n                } else {\n                    const length0to1 = edgeLength[edgeHash0to1];\n                    const length1to2 = edgeLength[edgeHash1to2];\n                    const length2to0 = edgeLength[edgeHash2to0];\n\n                    // Add New Triangle Positions\n                    if ((length0to1 > length1to2 || edgeCount1to2 <= 1) &&\n                        (length0to1 > length2to0 || edgeCount2to0 <= 1) && edgeCount0to1 > 1) {\n                        _center.copy(_vector0).add(_vector1).divideScalar(2.0);\n                        if (edgeCount2to0 > 1) {\n                            _midpoint.copy(_vector2).add(_vector0).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _vector0, _center, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _center, _vector2, _midpoint); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector0, _center, _vector2); index += (step * 3);\n                        }\n                        if (edgeCount1to2 > 1) {\n                            _midpoint.copy(_vector1).add(_vector2).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _center, _vector1, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _vector2, _center); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector1, _vector2, _center); index += (step * 3);\n                        }\n\n                    } else if ((length1to2 > length2to0 || edgeCount2to0 <= 1) && edgeCount1to2 > 1) {\n                        _center.copy(_vector1).add(_vector2).divideScalar(2.0);\n                        if (edgeCount0to1 > 1) {\n                            _midpoint.copy(_vector0).add(_vector1).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _center, _midpoint, _vector1); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _center, _vector0); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector1, _center, _vector0); index += (step * 3);\n                        }\n                        if (edgeCount2to0 > 1) {\n                            _midpoint.copy(_vector2).add(_vector0).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _center, _vector2, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _vector0, _center); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector2, _vector0, _center); index += (step * 3);\n                        }\n\n                    } else if (edgeCount2to0 > 1) {\n                        _center.copy(_vector2).add(_vector0).divideScalar(2.0);\n                        if (edgeCount1to2 > 1) {\n                            _midpoint.copy(_vector1).add(_vector2).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _vector2, _center, _midpoint); index += (step * 3);\n                            setTriangle(floatArray, index, step, _center, _vector1, _midpoint); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector2, _center, _vector1); index += (step * 3);\n                        }\n                        if (edgeCount0to1 > 1) {\n                            _midpoint.copy(_vector0).add(_vector1).divideScalar(2.0);\n                            setTriangle(floatArray, index, step, _vector0, _midpoint, _center); index += (step * 3);\n                            setTriangle(floatArray, index, step, _midpoint, _vector1, _center); index += (step * 3);\n                        } else {\n                            setTriangle(floatArray, index, step, _vector0, _vector1, _center); index += (step * 3);\n                        }\n\n                    } else {\n                        setTriangle(floatArray, index, step, _vector0, _vector1, _vector2); index += (step * 3);\n                    }\n\n                }\n            }\n\n            split.setAttribute(attributeName, new THREE.BufferAttribute(floatArray, attribute.itemSize));\n        });\n\n        // Clean Up, Return New Geometry\n        existing.dispose();\n        return split;\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Flat\n    ////////////////////\n\n    /** Applies one iteration of Loop (flat) subdivision (1 triangle split into 4 triangles) */\n    static flat(geometry) {\n        \n        ///// Geometries\n        if (! verifyGeometry(geometry)) return geometry;\n        const existing = (geometry.index !== null) ? geometry.toNonIndexed() : geometry.clone();\n        const loop = new THREE.BufferGeometry();\n\n        ///// Attributes\n        const attributeList = gatherAttributes(existing);\n        const vertexCount = existing.attributes.position.count;\n\n        ///// Build Geometry\n        attributeList.forEach((attributeName) => {\n            const attribute = existing.getAttribute(attributeName);\n            if (! attribute) return;\n            const newTriangles = 4;\n            const arrayLength = (vertexCount * attribute.itemSize) * newTriangles;\n            const floatArray = new Float32Array(arrayLength);\n\n            let index = 0;\n            let step = attribute.itemSize;\n            for (let i = 0; i < vertexCount; i += 3) {\n\n                // Original Vertices\n                _vector0.fromBufferAttribute(attribute, i + 0);\n                _vector1.fromBufferAttribute(attribute, i + 1);\n                _vector2.fromBufferAttribute(attribute, i + 2);\n\n                // Midpoints\n                _vec0to1.copy(_vector0).add(_vector1).divideScalar(2.0);\n                _vec1to2.copy(_vector1).add(_vector2).divideScalar(2.0);\n                _vec2to0.copy(_vector2).add(_vector0).divideScalar(2.0);\n\n                // Add New Triangle Positions\n                setTriangle(floatArray, index, step, _vector0, _vec0to1, _vec2to0); index += (step * 3);\n                setTriangle(floatArray, index, step, _vector1, _vec1to2, _vec0to1); index += (step * 3);\n                setTriangle(floatArray, index, step, _vector2, _vec2to0, _vec1to2); index += (step * 3);\n                setTriangle(floatArray, index, step, _vec0to1, _vec1to2, _vec2to0); index += (step * 3);\n            }\n\n            loop.setAttribute(attributeName, new THREE.BufferAttribute(floatArray, attribute.itemSize));\n        });\n\n        ///// Clean Up\n        existing.dispose();\n        return loop;\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////////\n    /////   Smooth\n    ////////////////////\n\n    /** Applies one iteration of Loop (smooth) subdivision (1 triangle split into 4 triangles) */\n    static smooth(geometry, uvSmooth = false) {\n\n        ///// Geometries\n        if (! verifyGeometry(geometry)) return geometry;\n        const existing = (geometry.index !== null) ? geometry.toNonIndexed() : geometry.clone();\n        const flat = LoopSubdivision.flat(existing);\n        const loop = new THREE.BufferGeometry();\n\n        ///// Attributes\n        const attributeList = gatherAttributes(existing);\n        const vertexCount = existing.attributes.position.count;\n        const posAttribute = existing.getAttribute('position');\n        const norAttribute = existing.getAttribute('normal');\n        const hashToIndex = {};         // Map by hash that contains arrays of index values of same position\n        const indexToHash = [];         // Position_Normal hash stored for each index\n        const indexToPos = [];          // Position only hash stored for each index\n        const existingNeighbors = {};   // Position hash mapped to Sets of existing vertex neighbors\n        const flatOpposites = {};       // Position hash mapped to Sets of new edge point opposites\n\n        ///// Existing Vertex Hashes\n        for (let i = 0; i < vertexCount; i += 3) {\n            _vertex[0].fromBufferAttribute(posAttribute, i + 0);\n            _vertex[1].fromBufferAttribute(posAttribute, i + 1);\n            _vertex[2].fromBufferAttribute(posAttribute, i + 2);\n\n            // Map Vertex Hashes\n            for (let j = 0; j < 3; j++) {\n                const positionHash = hashFromVector(_vertex[j]);\n                const normalHash = hashFromVector(_vector.fromBufferAttribute(norAttribute, i + j));\n                const pointHash = `${positionHash}_${normalHash}`;\n                addToMapArray(hashToIndex, pointHash, (i + j));\n                indexToPos.push(positionHash);\n                indexToHash.push(pointHash);\n            }\n            \n            // Neighbors (Existing Geometry)\n            addToObjectSet(existingNeighbors, indexToPos[i + 0], indexToHash[i + 1]);\n            addToObjectSet(existingNeighbors, indexToPos[i + 0], indexToHash[i + 2]);\n            addToObjectSet(existingNeighbors, indexToPos[i + 1], indexToHash[i + 0]);\n            addToObjectSet(existingNeighbors, indexToPos[i + 1], indexToHash[i + 2]);\n            addToObjectSet(existingNeighbors, indexToPos[i + 2], indexToHash[i + 0]);\n            addToObjectSet(existingNeighbors, indexToPos[i + 2], indexToHash[i + 1]);\n        \n            // Midpoints / Opposites\n            _vec0to1.copy(_vertex[0]).add(_vertex[1]).divideScalar(2.0);\n            _vec1to2.copy(_vertex[1]).add(_vertex[2]).divideScalar(2.0);\n            _vec2to0.copy(_vertex[2]).add(_vertex[0]).divideScalar(2.0);\n            const hash0to1 = hashFromVector(_vec0to1);\n            const hash1to2 = hashFromVector(_vec1to2);\n            const hash2to0 = hashFromVector(_vec2to0);\n            addToObjectSet(flatOpposites, hash0to1, indexToHash[i + 2]);\n            addToObjectSet(flatOpposites, hash1to2, indexToHash[i + 0]);\n            addToObjectSet(flatOpposites, hash2to0, indexToHash[i + 1]);\n        }\n\n        ///// Build Geometry\n        attributeList.forEach((attributeName) => {\n            const existingAttribute = existing.getAttribute(attributeName);\n            const flatAttribute = flat.getAttribute(attributeName);\n            const flatPosition = flat.getAttribute('position');\n            if (existingAttribute === undefined || flatAttribute === undefined) return;\n\n            const arrayLength = (flat.attributes.position.count * flatAttribute.itemSize);\n            const floatArray = new Float32Array(arrayLength);\n\n            let index = 0;\n            for (let i = 0; i < flat.attributes.position.count; i += 3) {\n\n                if (attributeName === 'uv' && ! uvSmooth) {\n                    for (let v = 0; v < 3; v++) {\n                        _vertex[v].fromBufferAttribute(flatAttribute, i + v);\n                    }\n\n                } else { // 'normal', 'position', 'color', etc...\n                    for (let v = 0; v < 3; v++) {\n                        _vertex[v].fromBufferAttribute(flatAttribute, i + v);\n                        _position[v].fromBufferAttribute(flatPosition, i + v);\n\n                        let positionHash = hashFromVector(_position[v]);\n                        let neighbors = existingNeighbors[positionHash];\n                        let opposites = flatOpposites[positionHash]\n                        \n                        ///// Adjust Source Vertex\n                        if (neighbors && (neighbors instanceof Set)) {\n                            const k = neighbors.size;\n\n                            ///// Loop's Formula\n                            const beta = 1 / k * ((5/8) - Math.pow((3/8) + (1/4) * Math.cos(2 * Math.PI / k), 2));\n\n                            ///// Warren's Formula\n                            // const beta = (k > 3) ? 3 / (8 * k) : ((k === 3) ? 3 / 16 : 0);\n                            \n                            ///// Stevinz' Formula\n                            // const beta = 0.5 / k;\n\n                            ///// Average with Neighbors\n                            const startWeight = 1.0 - (beta * k);\n                            _vertex[v].multiplyScalar(startWeight);\n\n                            neighbors.forEach(neighborHash => {\n                                _average.fromBufferAttribute(existingAttribute, hashToIndex[neighborHash][0]);\n                                _average.multiplyScalar(beta);\n                                _vertex[v].add(_average);\n                            });\n\n                        ///// Newly Added Edge Vertex\n                        } else if (opposites && (opposites instanceof Set) && opposites.size === 2) {\n                            const k = opposites.size;\n                            const beta = 0.125; /* 1/8 */\n                            const startWeight = 1.0 - (beta * k);\n                            _vertex[v].multiplyScalar(startWeight);\n\n                            opposites.forEach(oppositeHash => {\n                                _average.fromBufferAttribute(existingAttribute, hashToIndex[oppositeHash][0]);\n                                _average.multiplyScalar(beta);\n                                _vertex[v].add(_average);\n                            });\n                        }\n                    }\n                }\n\n                // Add New Triangle Position\n                setTriangle(floatArray, index, flatAttribute.itemSize, _vertex[0], _vertex[1], _vertex[2]);\n                index += (flatAttribute.itemSize * 3);\n            }\n\n            loop.setAttribute(attributeName, new THREE.BufferAttribute(floatArray, flatAttribute.itemSize));\n        });\n\n        ///// Clean Up\n        flat.dispose();\n        existing.dispose();\n        return loop;\n    }\n\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Local Functions, Hash\n/////////////////////////////////////////////////////////////////////////////////////\n\nconst _positionShift = Math.pow(10, POSITION_DECIMALS);\n\n/** Compares two numbers to see if they're almost the same */\nfunction fuzzy(a, b, tolerance = 0.00001) {\n    return ((a < (b + tolerance)) && (a > (b - tolerance)));\n}\n\n/** Generates hash strong from Number */\nfunction hashFromNumber(num, shift = _positionShift) {\n    let roundedNumber = round(num * shift);\n    if (roundedNumber == 0) roundedNumber = 0; /* prevent -0 (signed 0 can effect Math.atan2(), etc.) */\n    return `${roundedNumber}`;\n}\n\n/** Generates hash strong from Vector3 */\nfunction hashFromVector(vector, shift = _positionShift) {\n    return `${hashFromNumber(vector.x, shift)},${hashFromNumber(vector.y, shift)},${hashFromNumber(vector.z, shift)}`;\n}\n\nfunction round(x) {\n    return (x + ((x > 0) ? 0.5 : -0.5)) << 0;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Local Functions, Maps\n/////////////////////////////////////////////////////////////////////////////////////\n\n/** Adds a value into set array */\nfunction addToObjectSet(object, hash, value) {\n    if (! object[hash]) object[hash] = new Set();\n    object[hash].add(value);\n}\n\n/** Adds value into map array */\nfunction addToMapArray(map, key, value) {\n    if (! map[key]) map[key] = [];\n    map[key].push(value);\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Local Functions, Geometry\n/////////////////////////////////////////////////////////////////////////////////////\n\nfunction calcNormal(target, vec1, vec2, vec3) {\n    _temp.subVectors(vec1, vec2);\n    target.subVectors(vec2, vec3);\n    target.cross(_temp).normalize();\n}\n\nfunction gatherAttributes(geometry) {\n    const desired = [ 'position', 'normal', 'uv' ];\n    const contains = Object.keys(geometry.attributes);\n    const attributeList = Array.from(new Set(desired.concat(contains)));\n    return attributeList;\n}\n\nfunction setTriangle(positions, index, step, vec0, vec1, vec2) {\n    if (step >= 1) {\n        positions[index + 0 + (step * 0)] = vec0.x;\n        positions[index + 0 + (step * 1)] = vec1.x;\n        positions[index + 0 + (step * 2)] = vec2.x;\n    } \n    if (step >= 2) {\n        positions[index + 1 + (step * 0)] = vec0.y;\n        positions[index + 1 + (step * 1)] = vec1.y;\n        positions[index + 1 + (step * 2)] = vec2.y;\n    }\n    if (step >= 3) {\n        positions[index + 2 + (step * 0)] = vec0.z;\n        positions[index + 2 + (step * 1)] = vec1.z;\n        positions[index + 2 + (step * 2)] = vec2.z;\n    }\n    if (step >= 4) {\n        positions[index + 3 + (step * 0)] = vec0.w;\n        positions[index + 3 + (step * 1)] = vec1.w;\n        positions[index + 3 + (step * 2)] = vec2.w;\n    }\n}\n\nfunction verifyGeometry(geometry) {\n    if (! geometry.isBufferGeometry) {\n        console.warn(`LoopSubdivision: Geometry must be 'BufferGeometry' type`);\n        return false;\n    }\n\n    if (geometry.attributes.position === undefined) {\n        console.warn(`LoopSubdivision: Missing required attribute - 'position'`);\n        return false;\n    }\n\n    if (geometry.attributes.normal === undefined) {\n        geometry.computeVertexNormals();\n    }\n    return true;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Exports\n/////////////////////////////////////////////////////////////////////////////////////\n\nexport { LoopSubdivision };\n\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Reference\n/////////////////////////////////////////////////////////////////////////////////////\n//\n//      https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/thesis-10.pdf\n//      https://en.wikipedia.org/wiki/Loop_subdivision_surface\n//      https://cseweb.ucsd.edu/~alchern/teaching/cse167_fa21/6-3Surfaces.pdf\n//\n/////////////////////////////////////////////////////////////////////////////////////\n/////   Original three.js SubdivisionModifier\n/////////////////////////////////////////////////////////////////////////////////////\n//  \n// Loop, r124\n//      https://github.com/mrdoob/three.js/blob/r124/examples/jsm/modifiers/SubdivisionModifier.js\n// Catmull-Clark, r59\n//      https://github.com/mrdoob/three.js/blob/r59/examples/js/modifiers/SubdivisionModifier.js\n//\n/////////////////////////////////////////////////////////////////////////////////////\n/////   License\n/////////////////////////////////////////////////////////////////////////////////////\n//\n// MIT License\n//\n// Subdivide Modifier\n//      Copyright (c) 2022 Stephens Nunnally <@stevinz>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE."],"names":[],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkDA;AACA;AACA;AACA,MAAM,iBAAiB,GAAG,CAAC,CAAC;AAC5B;AACA;AACA;AACA,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,OAAO,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACpC,MAAM,SAAS,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACtC,MAAM,OAAO,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACpC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AAClC,MAAM,OAAO,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACpC,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,SAAS,GAAG;AAClB,IAAI,IAAI,KAAK,CAAC,OAAO,EAAE;AACvB,IAAI,IAAI,KAAK,CAAC,OAAO,EAAE;AACvB,IAAI,IAAI,KAAK,CAAC,OAAO,EAAE;AACvB,CAAC,CAAC;AACF,MAAM,OAAO,GAAG;AAChB,IAAI,IAAI,KAAK,CAAC,OAAO,EAAE;AACvB,IAAI,IAAI,KAAK,CAAC,OAAO,EAAE;AACvB,IAAI,IAAI,KAAK,CAAC,OAAO,EAAE;AACvB,CAAC,CAAC;AACF,MAAM,SAAS,GAAG,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe,CAAC;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO,MAAM,CAAC,cAAc,EAAE,UAAU,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,EAAE,QAAQ,GAAG,KAAK,EAAE,QAAQ,GAAG,KAAK,EAAE,YAAY,GAAG,QAAQ,EAAE;AAC7H;AACA;AACA,QAAQ,IAAI,cAAc,CAAC,UAAU,CAAC,QAAQ,KAAK,SAAS,EAAE;AAC9D,YAAY,OAAO,CAAC,IAAI,CAAC,CAAC,yEAAyE,CAAC,CAAC,CAAC;AACtG,YAAY,OAAO,cAAc,CAAC;AAClC,SAAS;AACT;AACA;AACA,QAAQ,IAAI,KAAK,EAAE,cAAc,GAAG,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;AAC9E;AACA;AACA,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,EAAE,EAAE;AAC7C,YAAY,IAAI,gBAAgB,GAAG,cAAc,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC;AAChF,YAAY,IAAI,gBAAgB,GAAG,YAAY,EAAE;AACjD,gBAAgB,IAAI,QAAQ,EAAE;AAC9B,oBAAoB,cAAc,GAAG,eAAe,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC1E,iBAAiB,MAAM;AACvB,oBAAoB,cAAc,GAAG,eAAe,CAAC,MAAM,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;AACtF,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA,QAAQ,OAAO,cAAc,CAAC;AAC9B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO,SAAS,CAAC,QAAQ,EAAE;AAC/B;AACA;AACA,QAAQ,IAAI,EAAE,cAAc,CAAC,QAAQ,CAAC,EAAE,OAAO,QAAQ,CAAC;AACxD,QAAQ,MAAM,QAAQ,GAAG,CAAC,QAAQ,CAAC,KAAK,KAAK,IAAI,IAAI,QAAQ,CAAC,YAAY,EAAE,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;AAChG,QAAQ,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,cAAc,EAAE,CAAC;AACjD;AACA;AACA,QAAQ,MAAM,aAAa,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AACzD,QAAQ,MAAM,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;AAC/D,QAAQ,MAAM,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;AAC/D,QAAQ,MAAM,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AAC7D,QAAQ,MAAM,kBAAkB,GAAG,EAAE,CAAC;AACtC,QAAQ,MAAM,kBAAkB,GAAG,EAAE,CAAC;AACtC,QAAQ,MAAM,UAAU,GAAG,EAAE,CAAC;AAC9B,QAAQ,MAAM,aAAa,GAAG,EAAE,CAAC;AACjC;AACA;AACA,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;AACjD;AACA,YAAY,QAAQ,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9D,YAAY,QAAQ,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9D,YAAY,QAAQ,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9D,YAAY,OAAO,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;AACzD,YAAY,MAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;AACtD,YAAY,MAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;AACtD,YAAY,MAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;AACtD;AACA;AACA,YAAY,MAAM,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;AACvF,YAAY,aAAa,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;AACzD,YAAY,IAAI,EAAE,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;AACxC,gBAAgB,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC5C,gBAAgB,SAAS;AACzB,aAAa;AACb;AACA;AACA,YAAY,UAAU,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAC9D,YAAY,MAAM,UAAU,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC;AACvD;AACA;AACA,YAAY,IAAI,MAAM,GAAG;AACzB,gBAAgB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;AACvD,gBAAgB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;AACvD,gBAAgB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;AACvD,gBAAgB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;AACvD,gBAAgB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;AACvD,gBAAgB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;AACvD,aAAa,CAAC;AACd;AACA;AACA,YAAY,IAAI,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;AAC9B,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACpD;AACA,gBAAgB,aAAa,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AACrE;AACA;AACA,gBAAgB,IAAI,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;AAC7C,oBAAoB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;AAClG,oBAAoB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;AAClG,oBAAoB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;AAClG,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,YAAY,kBAAkB,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AACzE,SAAS;AACT;AACA;AACA,QAAQ,aAAa,CAAC,OAAO,CAAC,CAAC,aAAa,KAAK;AACjD,YAAY,MAAM,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;AACnE,YAAY,IAAI,EAAE,SAAS,EAAE,OAAO;AACpC,YAAY,MAAM,YAAY,GAAG,CAAC,CAAC;AACnC,YAAY,MAAM,WAAW,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,QAAQ,IAAI,YAAY,CAAC;AAClF,YAAY,MAAM,UAAU,GAAG,IAAI,YAAY,CAAC,WAAW,CAAC,CAAC;AAC7D;AACA,YAAY,IAAI,KAAK,GAAG,CAAC,CAAC;AAC1B,YAAY,IAAI,IAAI,GAAG,SAAS,CAAC,QAAQ,CAAC;AAC1C,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;AACrD,gBAAgB,IAAI,EAAE,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS;AACrD;AACA,gBAAgB,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D,gBAAgB,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D,gBAAgB,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D;AACA;AACA,gBAAgB,MAAM,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC;AAC5C,gBAAgB,MAAM,YAAY,GAAG,kBAAkB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1E,gBAAgB,MAAM,YAAY,GAAG,kBAAkB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1E,gBAAgB,MAAM,YAAY,GAAG,kBAAkB,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1E;AACA,gBAAgB,MAAM,aAAa,GAAG,kBAAkB,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;AAC9E,gBAAgB,MAAM,aAAa,GAAG,kBAAkB,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;AAC9E,gBAAgB,MAAM,aAAa,GAAG,kBAAkB,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;AAC9E,gBAAgB,MAAM,WAAW,GAAG,CAAC,aAAa,GAAG,aAAa,GAAG,aAAa,IAAI,CAAC,CAAC;AACxF;AACA;AACA,gBAAgB,IAAI,WAAW,KAAK,CAAC,EAAE;AACvC,oBAAoB,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AAC5G;AACA;AACA,iBAAiB,MAAM;AACvB,oBAAoB,MAAM,UAAU,GAAG,UAAU,CAAC,YAAY,CAAC,CAAC;AAChE,oBAAoB,MAAM,UAAU,GAAG,UAAU,CAAC,YAAY,CAAC,CAAC;AAChE,oBAAoB,MAAM,UAAU,GAAG,UAAU,CAAC,YAAY,CAAC,CAAC;AAChE;AACA;AACA,oBAAoB,IAAI,CAAC,UAAU,GAAG,UAAU,IAAI,aAAa,IAAI,CAAC;AACtE,yBAAyB,UAAU,GAAG,UAAU,IAAI,aAAa,IAAI,CAAC,CAAC,IAAI,aAAa,GAAG,CAAC,EAAE;AAC9F,wBAAwB,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAC/E,wBAAwB,IAAI,aAAa,GAAG,CAAC,EAAE;AAC/C,4BAA4B,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACrF,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,yBAAyB,MAAM;AAC/B,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACnH,yBAAyB;AACzB,wBAAwB,IAAI,aAAa,GAAG,CAAC,EAAE;AAC/C,4BAA4B,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACrF,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,yBAAyB,MAAM;AAC/B,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACnH,yBAAyB;AACzB;AACA,qBAAqB,MAAM,IAAI,CAAC,UAAU,GAAG,UAAU,IAAI,aAAa,IAAI,CAAC,KAAK,aAAa,GAAG,CAAC,EAAE;AACrG,wBAAwB,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAC/E,wBAAwB,IAAI,aAAa,GAAG,CAAC,EAAE;AAC/C,4BAA4B,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACrF,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,yBAAyB,MAAM;AAC/B,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACnH,yBAAyB;AACzB,wBAAwB,IAAI,aAAa,GAAG,CAAC,EAAE;AAC/C,4BAA4B,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACrF,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,yBAAyB,MAAM;AAC/B,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACnH,yBAAyB;AACzB;AACA,qBAAqB,MAAM,IAAI,aAAa,GAAG,CAAC,EAAE;AAClD,wBAAwB,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAC/E,wBAAwB,IAAI,aAAa,GAAG,CAAC,EAAE;AAC/C,4BAA4B,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACrF,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,yBAAyB,MAAM;AAC/B,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACnH,yBAAyB;AACzB,wBAAwB,IAAI,aAAa,GAAG,CAAC,EAAE;AAC/C,4BAA4B,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACrF,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACpH,yBAAyB,MAAM;AAC/B,4BAA4B,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACnH,yBAAyB;AACzB;AACA,qBAAqB,MAAM;AAC3B,wBAAwB,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AAChH,qBAAqB;AACrB;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,YAAY,KAAK,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,KAAK,CAAC,eAAe,CAAC,UAAU,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;AACzG,SAAS,CAAC,CAAC;AACX;AACA;AACA,QAAQ,QAAQ,CAAC,OAAO,EAAE,CAAC;AAC3B,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO,IAAI,CAAC,QAAQ,EAAE;AAC1B;AACA;AACA,QAAQ,IAAI,EAAE,cAAc,CAAC,QAAQ,CAAC,EAAE,OAAO,QAAQ,CAAC;AACxD,QAAQ,MAAM,QAAQ,GAAG,CAAC,QAAQ,CAAC,KAAK,KAAK,IAAI,IAAI,QAAQ,CAAC,YAAY,EAAE,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;AAChG,QAAQ,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,cAAc,EAAE,CAAC;AAChD;AACA;AACA,QAAQ,MAAM,aAAa,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AACzD,QAAQ,MAAM,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;AAC/D;AACA;AACA,QAAQ,aAAa,CAAC,OAAO,CAAC,CAAC,aAAa,KAAK;AACjD,YAAY,MAAM,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;AACnE,YAAY,IAAI,EAAE,SAAS,EAAE,OAAO;AACpC,YAAY,MAAM,YAAY,GAAG,CAAC,CAAC;AACnC,YAAY,MAAM,WAAW,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,QAAQ,IAAI,YAAY,CAAC;AAClF,YAAY,MAAM,UAAU,GAAG,IAAI,YAAY,CAAC,WAAW,CAAC,CAAC;AAC7D;AACA,YAAY,IAAI,KAAK,GAAG,CAAC,CAAC;AAC1B,YAAY,IAAI,IAAI,GAAG,SAAS,CAAC,QAAQ,CAAC;AAC1C,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;AACrD;AACA;AACA,gBAAgB,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D,gBAAgB,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D,gBAAgB,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/D;AACA;AACA,gBAAgB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACxE,gBAAgB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACxE,gBAAgB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACxE;AACA;AACA,gBAAgB,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACxG,gBAAgB,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACxG,gBAAgB,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACxG,gBAAgB,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC;AACxG,aAAa;AACb;AACA,YAAY,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,KAAK,CAAC,eAAe,CAAC,UAAU,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;AACxG,SAAS,CAAC,CAAC;AACX;AACA;AACA,QAAQ,QAAQ,CAAC,OAAO,EAAE,CAAC;AAC3B,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO,MAAM,CAAC,QAAQ,EAAE,QAAQ,GAAG,KAAK,EAAE;AAC9C;AACA;AACA,QAAQ,IAAI,EAAE,cAAc,CAAC,QAAQ,CAAC,EAAE,OAAO,QAAQ,CAAC;AACxD,QAAQ,MAAM,QAAQ,GAAG,CAAC,QAAQ,CAAC,KAAK,KAAK,IAAI,IAAI,QAAQ,CAAC,YAAY,EAAE,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;AAChG,QAAQ,MAAM,IAAI,GAAG,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACpD,QAAQ,MAAM,IAAI,GAAG,IAAI,KAAK,CAAC,cAAc,EAAE,CAAC;AAChD;AACA;AACA,QAAQ,MAAM,aAAa,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AACzD,QAAQ,MAAM,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;AAC/D,QAAQ,MAAM,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;AAC/D,QAAQ,MAAM,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AAC7D,QAAQ,MAAM,WAAW,GAAG,EAAE,CAAC;AAC/B,QAAQ,MAAM,WAAW,GAAG,EAAE,CAAC;AAC/B,QAAQ,MAAM,UAAU,GAAG,EAAE,CAAC;AAC9B,QAAQ,MAAM,iBAAiB,GAAG,EAAE,CAAC;AACrC,QAAQ,MAAM,aAAa,GAAG,EAAE,CAAC;AACjC;AACA;AACA,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;AACjD,YAAY,OAAO,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAChE,YAAY,OAAO,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAChE,YAAY,OAAO,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAChE;AACA;AACA,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACxC,gBAAgB,MAAM,YAAY,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAChE,gBAAgB,MAAM,UAAU,GAAG,cAAc,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACpG,gBAAgB,MAAM,SAAS,GAAG,CAAC,EAAE,YAAY,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC;AAClE,gBAAgB,aAAa,CAAC,WAAW,EAAE,SAAS,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;AAC/D,gBAAgB,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAC9C,gBAAgB,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC5C,aAAa;AACb;AACA;AACA,YAAY,cAAc,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrF,YAAY,cAAc,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrF,YAAY,cAAc,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrF,YAAY,cAAc,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrF,YAAY,cAAc,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrF,YAAY,cAAc,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrF;AACA;AACA,YAAY,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACxE,YAAY,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACxE,YAAY,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACxE,YAAY,MAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;AACtD,YAAY,MAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;AACtD,YAAY,MAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAC;AACtD,YAAY,cAAc,CAAC,aAAa,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACxE,YAAY,cAAc,CAAC,aAAa,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACxE,YAAY,cAAc,CAAC,aAAa,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACxE,SAAS;AACT;AACA;AACA,QAAQ,aAAa,CAAC,OAAO,CAAC,CAAC,aAAa,KAAK;AACjD,YAAY,MAAM,iBAAiB,GAAG,QAAQ,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;AAC3E,YAAY,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;AACnE,YAAY,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;AAC/D,YAAY,IAAI,iBAAiB,KAAK,SAAS,IAAI,aAAa,KAAK,SAAS,EAAE,OAAO;AACvF;AACA,YAAY,MAAM,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC1F,YAAY,MAAM,UAAU,GAAG,IAAI,YAAY,CAAC,WAAW,CAAC,CAAC;AAC7D;AACA,YAAY,IAAI,KAAK,GAAG,CAAC,CAAC;AAC1B,YAAY,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,EAAE;AACxE;AACA,gBAAgB,IAAI,aAAa,KAAK,IAAI,IAAI,EAAE,QAAQ,EAAE;AAC1D,oBAAoB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAChD,wBAAwB,OAAO,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC7E,qBAAqB;AACrB;AACA,iBAAiB,MAAM;AACvB,oBAAoB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAChD,wBAAwB,OAAO,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC7E,wBAAwB,SAAS,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9E;AACA,wBAAwB,IAAI,YAAY,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AACxE,wBAAwB,IAAI,SAAS,GAAG,iBAAiB,CAAC,YAAY,CAAC,CAAC;AACxE,wBAAwB,IAAI,SAAS,GAAG,aAAa,CAAC,YAAY,EAAC;AACnE;AACA;AACA,wBAAwB,IAAI,SAAS,KAAK,SAAS,YAAY,GAAG,CAAC,EAAE;AACrE,4BAA4B,MAAM,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC;AACrD;AACA;AACA,4BAA4B,MAAM,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM,WAAW,GAAG,GAAG,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;AACjE,4BAA4B,OAAO,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;AACnE;AACA,4BAA4B,SAAS,CAAC,OAAO,CAAC,YAAY,IAAI;AAC9D,gCAAgC,QAAQ,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9G,gCAAgC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;AAC9D,gCAAgC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACzD,6BAA6B,CAAC,CAAC;AAC/B;AACA;AACA,yBAAyB,MAAM,IAAI,SAAS,KAAK,SAAS,YAAY,GAAG,CAAC,IAAI,SAAS,CAAC,IAAI,KAAK,CAAC,EAAE;AACpG,4BAA4B,MAAM,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC;AACrD,4BAA4B,MAAM,IAAI,GAAG,KAAK,CAAC;AAC/C,4BAA4B,MAAM,WAAW,GAAG,GAAG,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;AACjE,4BAA4B,OAAO,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;AACnE;AACA,4BAA4B,SAAS,CAAC,OAAO,CAAC,YAAY,IAAI;AAC9D,gCAAgC,QAAQ,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9G,gCAAgC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;AAC9D,gCAAgC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACzD,6BAA6B,CAAC,CAAC;AAC/B,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA,gBAAgB,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,aAAa,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3G,gBAAgB,KAAK,KAAK,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;AACtD,aAAa;AACb;AACA,YAAY,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,KAAK,CAAC,eAAe,CAAC,UAAU,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC5G,SAAS,CAAC,CAAC;AACX;AACA;AACA,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;AACvB,QAAQ,QAAQ,CAAC,OAAO,EAAE,CAAC;AAC3B,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,iBAAiB,CAAC,CAAC;AACvD;AACA;AACA,SAAS,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,OAAO,EAAE;AAC1C,IAAI,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,EAAE;AAC5D,CAAC;AACD;AACA;AACA,SAAS,cAAc,CAAC,GAAG,EAAE,KAAK,GAAG,cAAc,EAAE;AACrD,IAAI,IAAI,aAAa,GAAG,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;AAC3C,IAAI,IAAI,aAAa,IAAI,CAAC,EAAE,aAAa,GAAG,CAAC,CAAC;AAC9C,IAAI,OAAO,CAAC,EAAE,aAAa,CAAC,CAAC,CAAC;AAC9B,CAAC;AACD;AACA;AACA,SAAS,cAAc,CAAC,MAAM,EAAE,KAAK,GAAG,cAAc,EAAE;AACxD,IAAI,OAAO,CAAC,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AACtH,CAAC;AACD;AACA,SAAS,KAAK,CAAC,CAAC,EAAE;AAClB,IAAI,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC7C,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE;AAC7C,IAAI,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;AACjD,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC5B,CAAC;AACD;AACA;AACA,SAAS,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;AACxC,IAAI,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;AAClC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AAC9C,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACjC,IAAI,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAClC,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC;AACpC,CAAC;AACD;AACA,SAAS,gBAAgB,CAAC,QAAQ,EAAE;AACpC,IAAI,MAAM,OAAO,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;AACnD,IAAI,MAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;AACtD,IAAI,MAAM,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACxE,IAAI,OAAO,aAAa,CAAC;AACzB,CAAC;AACD;AACA,SAAS,WAAW,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AAC/D,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE;AACnB,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,KAAK;AACL,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE;AACnB,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,KAAK;AACL,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE;AACnB,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,KAAK;AACL,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE;AACnB,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,QAAQ,SAAS,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;AACnD,KAAK;AACL,CAAC;AACD;AACA,SAAS,cAAc,CAAC,QAAQ,EAAE;AAClC,IAAI,IAAI,EAAE,QAAQ,CAAC,gBAAgB,EAAE;AACrC,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,uDAAuD,CAAC,CAAC,CAAC;AAChF,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL;AACA,IAAI,IAAI,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,SAAS,EAAE;AACpD,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,wDAAwD,CAAC,CAAC,CAAC;AACjF,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL;AACA,IAAI,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,KAAK,SAAS,EAAE;AAClD,QAAQ,QAAQ,CAAC,oBAAoB,EAAE,CAAC;AACxC,KAAK;AACL,IAAI,OAAO,IAAI,CAAC;AAChB,CAAC;AAOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;"}